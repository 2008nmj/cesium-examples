<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>cesium demo</title>
<link rel="stylesheet" href="../css/sector.css">
<link rel="stylesheet" href="../plugin/jq/jquery-modal/css/jquery.my-modal.1.1.winStyle.css">
<link rel="stylesheet" href="../plugin/piemenu/main.css" type="text/css">
<link rel="stylesheet" href="../plugin/piemenu/piemenu.css" type="text/css">


<script src="../plugin/jq/jquery-modal/js/jquery.my-modal.1.1.js"></script>
<script src="../plugin/echarts/echarts.min.js"></script>
<script src="../plugin/echarts/echarts-gl.js"></script>

<script type="text/javascript">
/*function stops(){
   return false;
   https://www.jsdaima.com/Upload/1481697264/style.css
}
document.oncontextmenu=stops;*/
</script>
<!-- cesium js-->
<script src="../../Build/Cesium/Cesium.js"></script>
<script src="../js/Cesium_init.js"></script>

<script src="../plugin/piemenu/jquery.menu.js"></script>
<script src="../plugin/piemenu/jquery-ui.custom.min.js"></script>

<script type="text/javascript" src="../demo/drawForCesium-master/js/DrawWorker/plotUtil.js"></script>
<script type="text/javascript" src="../demo/drawForCesium-master/js/DrawWorker/algorithm.js"></script>
<script type="text/javascript" src="../demo/drawForCesium-master/js/DrawWorker/DrawWorker.js"></script>
<!--<script src="https://www.yueyanshaosun.cn/ysCesium/plugins/echarts.min.js"></script>
<script src="https://www.yueyanshaosun.cn/ysCesium/plugins/echarts-gl.js"></script>-->
<!-- cesium css-->
<style>

	@import url(../../Apps/Sandcastle/templates/bucket.css);
	@import url(../../Build/Cesium/Widgets/widgets.css);
	html, body, #cesiumContainer {
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
		overflow: hidden;
	}
	.cesium-viewer-bottom{
            display: none;
    }
	#menuHolder {
		position: absolute;
		top:0px;
		left: 0px;
	}
	#toolbar {
        position: absolute;
        top: 20px;
        right: 30px;
        z-index: 999;
	}
	#measure {
		position: absolute;
        top: 10px;
        right: 30px;
        z-index: 999;
	}
	#plot {
            position: absolute;
            top: 15px;
            right:  0;
            display: inline;
            margin: 10px;
            padding: 0px;
        }
</style>
</head>
<body rlt="1" style="">


<!--
	描述：扇形导航
-->
<div id="menuHolder" class="menuHolder">
	<div class="menuWindow">
		<ul class="p1">
			<li class="s1"><a href="#url">菜单</a>
				<ul class="p2">
					<li class="s2"><a href="#url"><span>轨迹回放</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('satellite');">卫星扫描</a></li>
							<li><a href="#" onclick="main.create('newflyPath');">飞行路径</a></li>
							<li><a href="#" onclick="main.create('wind');">风场</a></li>
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>图层</span></a>
						<ul class="p3 a6">
							<li><a href="#">矢量图层</a></li>
							<li><a href="#" onclick="main.create('vectortile');" >瓦片图层</a></li>
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>三维</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('radarscan');">雷达扫描</a></li>
							<li><a href="#" onclick="main.create('scan');">移动扫描</a></li>
							<li><a href="#" onclick="main.create('heatmap');">热力图</a></li>
							<li><a href="#" onclick="main.create('lonlat');">经纬网</a></li>
							<li><a href="#" onclick="main.create('flyPath');">纹理喷泉</a></li>
							<li><a href="#" onclick="main.create('weather');">天气</a></li>
							
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>模型</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('_3DModul');">官方示例模型</a></li>
							<li><a href="#" onclick="main.create('flicker');">闪烁高亮点</a></li>
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>图表</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('Scatter');">散点图</a></li>
							<li><a href="#" onclick="main.create('flight');">航班图</a></li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
	</div>
</div>
<!--
	描述：cesium球
-->
<div id="cesiumContainer"></div>			
<!--
	描述：下面为模板
-->
<div class="m-modal">
	<div class="m-modal-dialog">
		<div class="m-top">
			<h4 class="m-modal-title">
				特征配置
			</h4>
			<span class="m-modal-close">&times;</span>
		</div>
		<div id="content" class="m-middle">
			<!--content-->
			
		</div>
		<div class="m-bottom">
			<button class="m-btn-sure">确定</button>
			<button class="m-btn-cancel">取消</button>
		</div>
	</div>
</div>
<!--
	描述：标绘
-->
<div id="plot"></div>

<div id="outer_container" class="outer_container inactive">
	<a class="menu_button" href="#" title="Toggle"><span>Menu Toggle</span></a>
	<ul class="menu_option">
	  <li style="transform: rotate(90deg); left: 0px; top: 0px;"><a href="#"></a></li>
	  <li style="transform: rotate(67.5deg); left: 0px; top: 0px;"><a href="#" onclick="main.create('measure');"><span style="background-image:url('../plugin/piemenu/cl.png');">测量</span></a></li>
	  <li style="transform: rotate(45deg); left: 0px; top: 0px;"><a href="#"  onclick="main.create('cesiumDraw');"><span style="background-image:url('../plugin/piemenu/draw.png');">画笔</span></a></li>
	  <li style="transform: rotate(22.5deg); left: 0px; top: 0px;"><a href="#"  onclick="main.create('cesiumPlot');"><span style="background-image:url('../plugin/piemenu/jiantou.png');">设置</span></a></li>
	  <li style="transform: rotate(10deg); left: 0px; top: 0px;"><a href="#" onclick="main.removeTool();"><span style="background-image:url('../plugin/piemenu/rm.png');">删除</span></a></li>
	  <li style="transform: rotate(0deg); left: 0px; top: 0px;"><a href="#"><span style="background-image:url('../plugin/piemenu/icon_setting.png');">Item</span></a></li>
	</ul>
</div>	
<script>
    function PieMenuInit(){		
        $('#outer_container').PieMenu({
            'starting_angel':0, //起始角度
            'angel_difference' : 360, //散开角度
            'radius':50, //圆形弧度
		});
	}
	

    $(function() {          
        PieMenuInit();			
    });
</script>
<script>

		
		var GoogleMap = ImageryProviderWebExtendTool.createGoogleMapsByUrl(Cesium, { url: "http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}" });
		var viewer = new Cesium.Viewer('cesiumContainer', {
			imageryProvider: GoogleMap,
			shouldAnimate : true,
			selectionIndicator: false,
			baseLayerPicker:false,
			homeButton:false,
			animation: true,
			timeline:true,
			geocoder: false,
			sceneModePicker: false,
			navigationHelpButton: false,
			infoBox: false,
			fullscreenButton: false
		});
		//设置homebutton的位置
		Cesium.Camera.DEFAULT_VIEW_RECTANGLE = Cesium.Rectangle.fromDegrees(127.0, 41.0, 129.0, 43.0);

 		/**
         * 将目前的工具集成
         * index 页面
         * 
         * 使用工具的方式
         * 需要实现的
         * 1.添加
         * 2.删除
         * 3.修改
         * 4.事件管理
         * 5.抽取公共业务
         * 
        */
        var main = (function(){
			var module = null;
			
			function _(){}
            _.create = function(node){
				if(node == null && node == "") return;
				switch(node){
					case "satellite":{CesiumSatellite.initSelect();module = CesiumSatellite;break;}
					case "radarscan":{CesiumRadarScan.initSelect();module = CesiumRadarScan;break;}
					case "heatmap":{CesiumHeatMap.initSelect();module = CesiumHeatMap;break;}
					case "lonlat":{TileLonlatController.initSelect();module = TileLonlatController;break;}
					case "flyPath":{CesiumFlyPath.initSelect();module = CesiumFlyPath;break;}
					
					case "vectortile":{VectorTileController.initSelect();module = VectorTileController;break;}
					case "weather":{weatherController.initSelect();module = weatherController;break;}
					case "Scatter":{cityScatterTable.initSelect();module = cityScatterTable;break;}
					case "flight":{flightTable.initSelect();module = flightTable;break;}
					case "flicker":{Cesiumflicker.initSelect();module = Cesiumflicker;break;}
					case "_3DModul":{_3DModulController.initSelect();module = _3DModulController;break;}
					case "scan":{CesiumMoveScan.initSelect();module = CesiumMoveScan;break;}
					case "newflyPath":{newFlyPath.initSelect();module = newFlyPath;break;}
					case "wind" :{CesiumWind.initSelect();module = CesiumWind;break;}

					case "measure":{CesiumMeasure.init({viewer:viewer},false);CesiumMeasure.createMeasureToolbar();break;}
					case "cesiumDraw":{Cesiumbrush.init({viewer:viewer});break;}
					case "cesiumPlot":{CesiumPlot.init({viewer:viewer});break;}
					case "removeTool":{main.removeTool();break;}
				}


            }

            _.submit = function(){
				this.remove();
				console.log("clock -->  console:"+ viewer.cesiumWidget.clock.currentTime)
				var initData = module.select(viewer);
				//loadingShow(); //开启load
				module.init(initData,true); //自动build
            }
			_.removeTool = function(){
				$("#measure").remove(),$("#pop").remove();
				CesiumMeasure.remove();
				Cesiumbrush.remove();
				CesiumPlot.remove();


			}
            _.remove = function(){
				$("#toolbar").remove(),$("#pop").remove();
				viewer.cesiumWidget.clock.onStop;
				CesiumRadarScan.remove();
				CesiumSatellite.remove();
				CesiumHeatMap.remove();
				TileLonlatController.remove();
				CesiumFlyPath.remove();
				VectorTileController.remove();
				cityScatterTable.remove();
				flightTable.remove();
				weatherController.remove();
				_3DModulController.remove();
				CesiumMoveScan.remove();
				newFlyPath.remove();
				CesiumWind.remove();
            }

			return _;
        })();
		var m1 = new MyModal.modal(function() {
				main.submit();
			});
		$('.s2 a').on("click", function() {
			m1.show();
		});
</script>
 </body>
 
 </html>