<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>cesium demo</title>
<link rel="stylesheet" type="text/css" href="../css/sector.css">
<link rel="stylesheet" type="text/css" href="../plugin/jq/jquery-modal/css/jquery.my-modal.1.1.winStyle.css">
<script src="../plugin/jq/jquery-modal/js/jquery.my-modal.1.1.js"></script>
<script src="../plugin/echarts/echarts.min.js"></script>
<script src="../plugin/echarts/echarts-gl.js"></script>
<script type="text/javascript">
/*function stops(){
   return false;
   https://www.jsdaima.com/Upload/1481697264/style.css
}
document.oncontextmenu=stops;*/
</script>
<!-- cesium js-->
<script src="../../Build/Cesium/Cesium.js"></script>
<script src="../js/Cesium_init.js"></script>
<script src="../js/CesiumRadar.js"></script>
<!--<script src="https://www.yueyanshaosun.cn/ysCesium/plugins/echarts.min.js"></script>
<script src="https://www.yueyanshaosun.cn/ysCesium/plugins/echarts-gl.js"></script>-->
<!-- cesium css-->
<style>
	@import url(../../Build/Cesium/Widgets/widgets.css);
	@import url(../../Apps/Sandcastle/templates/bucket.css);
	html, body, #cesiumContainer {
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
		overflow: hidden;
	}
	.cesium-viewer-bottom{
            display: none;
    }
	#menuHolder {
		position: absolute;
		top:0px;
		left: 0px;
	}
	#toolbar {
        position: absolute;
        top: 20px;
        right: 30px;
        z-index: 999;
	}
</style>
</head>
<body rlt="1" style="">


<!--
	描述：扇形导航
-->
<div id="menuHolder" class="menuHolder">
	<div class="menuWindow">
		<ul class="p1">
			<li class="s1"><a href="#url">导航菜单</a>
				<ul class="p2">
					<li class="s2"><a href="#url"><span>工具</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('measure');">测量</a></li>
							<li><a href="#" onclick="main.create('');">画笔</a></li>
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>轨迹回放</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('satellite');">卫星扫描</a></li>
							<li><a href="#" onclick="main.create('');">飞行轨迹</a></li>
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>图层</span></a>
						<ul class="p3 a6">
							<li><a href="#">矢量图层</a></li>
							<li><a href="#" onclick="main.create('vectortile');" >瓦片图层</a></li>
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>三维</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('radarscan');">雷达扫描</a></li>
							<li><a href="#" onclick="main.create('scan');">移动扫描</a></li>
							<li><a href="#" onclick="main.create('heatmap');">热力图</a></li>
							<li><a href="#" onclick="main.create('lonlat');">经纬网</a></li>
							<li><a href="#" onclick="main.create('flyPath');">飞行路径</a></li>
							<li><a href="#" onclick="main.create('weather');">天气</a></li>
							
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>模型</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('_3DModul');">官方示例模型</a></li>
							<li><a href="#" onclick="main.create('flicker');">闪烁高亮点</a></li>
						</ul>
					</li>
					<li class="s2"><a href="#url"><span>图表</span></a>
						<ul class="p3 a6">
							<li><a href="#" onclick="main.create('Scatter');">散点图</a></li>
							<li><a href="#" onclick="main.create('flight');">航班图</a></li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
	</div>
</div>
<!--
	描述：cesium球
-->
<div id="cesiumContainer">

</div>

<!--
	描述：下面为模板
-->
<div class="m-modal">
	<div class="m-modal-dialog">
		<div class="m-top">
			<h4 class="m-modal-title">
				特征配置
			</h4>
			<span class="m-modal-close">&times;</span>
		</div>
		<div id="content" class="m-middle">
			<!--content-->
			
		</div>
		<div class="m-bottom">
			<button class="m-btn-sure">确定</button>
			<button class="m-btn-cancel">取消</button>
		</div>
	</div>
</div>

<script>

		
		var GoogleMap = ImageryProviderWebExtendTool.createGoogleMapsByUrl(Cesium, { url: "http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}" });
				var viewer = new Cesium.Viewer('cesiumContainer', {
					imageryProvider: GoogleMap,
					shouldAnimate : true,
					selectionIndicator: false,
					baseLayerPicker:false,
					homeButton:false,
					animation: true,
					timeline:true,
					geocoder: false,
					sceneModePicker: false,
					navigationHelpButton: false,
					infoBox: false,
					fullscreenButton: false
		});
		//设置homebutton的位置
		Cesium.Camera.DEFAULT_VIEW_RECTANGLE = Cesium.Rectangle.fromDegrees(127.0, 41.0, 129.0, 43.0);

 		/**
         * 将目前的工具集成
         * index 页面
         * 
         * 使用工具的方式
         * 需要实现的
         * 1.添加
         * 2.删除
         * 3.修改
         * 4.事件管理
         * 5.抽取公共业务
         * 
        */
        var main = (function(){
			var module = null;
			
			function _(){}
			
            _.init = function(){

			}
			
			_.show = function(){
				
			

			}
			_.click = function(name,value){
				

			}
            _.create = function(node){
				if(node == null && node == "") return;
				this.remove();
				switch(node){
					case "satellite":{CesiumSatellite.initSelect();module = CesiumSatellite;break;}
					case "radarscan":{CesiumRadarScan.initSelect();module = CesiumRadarScan;break;}
					case "heatmap":{CesiumHeatMap.initSelect();module = CesiumHeatMap;break;}
					case "lonlat":{TileLonlatController.initSelect();module = TileLonlatController;break;}
					case "flyPath":{CesiumFlyPath.initSelect();module = CesiumFlyPath;break;}
					case "measure":{CesiumMeasure.initSelect();module = CesiumMeasure;break;}
					case "vectortile":{VectorTileController.initSelect();module = VectorTileController;break;}
					case "weather":{weatherController.initSelect();module = weatherController;break;}
					case "Scatter":{cityScatterTable.initSelect();module = cityScatterTable;break;}
					case "flight":{flightTable.initSelect();module = flightTable;break;}
					case "flicker":{Cesiumflicker.initSelect();module = Cesiumflicker;break;}
					case "_3DModul":{_3DModulController.initSelect();module = _3DModulController;break;}
					case "scan":{CesiumMoveScan.init({viewer:viewer});break;}

				}


            }

            _.submit = function(){
				var initData = module.select(viewer);
				//loadingShow(); //开启load
				module.init(initData,true); //自动build
            }

            _.remove = function(){
				$("#toolbar").remove(),$("#pop").remove();
				CesiumRadarScan.remove();
				CesiumSatellite.remove();
				CesiumHeatMap.remove();
				TileLonlatController.remove();
				CesiumFlyPath.remove();
				VectorTileController.remove();
				cityScatterTable.remove();
				flightTable.remove();
				_3DModulController.remove();
            }

			return _;
        })();
		var m1 = new MyModal.modal(function() {
				main.submit();
			});
		$('.s2 a').on("click", function() {
			m1.show();
		});


		//$(".cesium-viewer-toolbar").append('<button type="button" class="cesium-button cesium-toolbar-button cesium-home-button" data-bind="attr: { title: tooltip },click: command,cesiumSvgPath: { path: _svgPath, width: 28, height: 28 }" title="View Home"><svg:svg class="cesium-svgPath-svg" width="28" height="28" viewBox="0 0 28 28"><path d="M14,4l-10,8.75h20l-4.25-3.7188v-4.6562h-2.812v2.1875l-2.938-2.5625zm-7.0938,9.906v10.094h14.094v-10.094h-14.094zm2.1876,2.313h3.3122v4.25h-3.3122v-4.25zm5.8442,1.281h3.406v6.438h-3.406v-6.438z"></path></svg:svg></button>');
</script>
 </body>
 
 </html>